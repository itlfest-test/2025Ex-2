<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¤§å­¦é–“ä¹—æ›æ¡ˆå†…</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-4 md:p-8">
  <div class="max-w-5xl mx-auto">
    <h1 class="text-2xl md:text-3xl font-bold text-center mb-6 md:mb-8 text-blue-600">ğŸš‡ å¤§å­¦é–“ä¹—æ›æ¡ˆå†…</h1>
    
    <div class="bg-white rounded-lg shadow-md p-4 md:p-6 mb-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">å‡ºç™ºåœ°</label>
          <select id="departure" class="w-full p-2 border border-gray-300 rounded-md">
            <option value="">å‡ºç™ºåœ°ã‚’æŒ‡å®šã—ã¦ãã ã•ã„</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">åˆ°ç€åœ°</label>
          <select id="arrival" class="w-full p-2 border border-gray-300 rounded-md">
            <option value="">åˆ°ç€åœ°ã‚’æŒ‡å®šã—ã¦ãã ã•ã„</option>
          </select>
        </div>
      </div>
      
      <button onclick="searchRoute()" class="w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition font-medium">
        ãƒ«ãƒ¼ãƒˆã‚’æ¤œç´¢
      </button>
    </div>

    <div id="result" class="space-y-4"></div>
  </div>

  <script>
    // é‹è³ƒãƒ‡ãƒ¼ã‚¿
    const fareRates = {
      "æ±äº¬ãƒ¡ãƒˆãƒ­": [
        { max: 6, fare: 180 },
        { max: 11, fare: 210 },
        { max: 19, fare: 260 },
        { max: 27, fare: 310 },
        { max: 40, fare: 330 }
      ],
      "éƒ½å–¶åœ°ä¸‹é‰„": [
        { max: 4, fare: 180 },
        { max: 8, fare: 220 },
        { max: 12, fare: 270 },
        { max: 20, fare: 320 },
        { max: 28, fare: 370 },
        { max: 40, fare: 430 }
      ],
      "JRæ±æ—¥æœ¬": [
        { max: 3, fare: 155 },
        { max: 6, fare: 199 },
        { max: 10, fare: 209 },
        { max: 15, fare: 253 },
        { max: 20, fare: 297 },
        { max: 25, fare: 341 },
        { max: 30, fare: 440 },
        { max: 35, fare: 528 },
        { max: 40, fare: 616 }
      ],
      "äº¬ç‹é›»é‰„": [
        { max: 4, fare: 136 },
        { max: 8, fare: 167 },
        { max: 12, fare: 209 },
        { max: 16, fare: 251 },
        { max: 20, fare: 293 },
        { max: 24, fare: 335 },
        { max: 28, fare: 377 },
        { max: 32, fare: 419 },
        { max: 36, fare: 461 },
        { max: 40, fare: 503 },
        { max: 50, fare: 545 }
      ],
      "å°ç”°æ€¥é›»é‰„": [
        { max: 4, fare: 136 },
        { max: 8, fare: 178 },
        { max: 12, fare: 220 },
        { max: 16, fare: 262 },
        { max: 20, fare: 304 },
        { max: 24, fare: 346 },
        { max: 28, fare: 388 },
        { max: 32, fare: 430 },
        { max: 36, fare: 472 },
        { max: 40, fare: 514 }
      ],
      "æ±æ€¥é›»é‰„": [
        { max: 3, fare: 136 },
        { max: 7, fare: 157 },
        { max: 11, fare: 199 },
        { max: 15, fare: 220 },
        { max: 19, fare: 262 },
        { max: 23, fare: 283 },
        { max: 27, fare: 325 },
        { max: 31, fare: 346 },
        { max: 40, fare: 388 }
      ],
      "è¥¿æ­¦é‰„é“": [
        { max: 4, fare: 169 },
        { max: 8, fare: 207 },
        { max: 12, fare: 245 },
        { max: 16, fare: 284 },
        { max: 20, fare: 323 },
        { max: 24, fare: 362 },
        { max: 28, fare: 402 },
        { max: 32, fare: 442 },
        { max: 36, fare: 483 },
        { max: 40, fare: 521 },
        { max: 44, fare: 557 },
        { max: 48, fare: 592 }
      ],
      "æ±æ­¦é‰„é“": [
        { max: 3, fare: 146 },
        { max: 7, fare: 178 },
        { max: 11, fare: 220 },
        { max: 15, fare: 262 },
        { max: 19, fare: 304 },
        { max: 23, fare: 346 },
        { max: 27, fare: 388 },
        { max: 31, fare: 430 },
        { max: 35, fare: 472 },
        { max: 39, fare: 514 },
        { max: 43, fare: 556 },
        { max: 47, fare: 598 }
      ],
      "å¤šæ‘©éƒ½å¸‚ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«": [
        { max: 3, fare: 136 },
        { max: 6, fare: 157 },
        { max: 9, fare: 199 },
        { max: 12, fare: 220 },
        { max: 15, fare: 262 },
        { max: 20, fare: 283 }
      ],
      "ã¤ãã°ã‚¨ã‚¯ã‚¹ãƒ—ãƒ¬ã‚¹": [
        { max: 5, fare: 199 },
        { max: 10, fare: 241 },
        { max: 15, fare: 283 },
        { max: 20, fare: 325 },
        { max: 25, fare: 367 },
        { max: 30, fare: 409 },
        { max: 35, fare: 451 },
        { max: 40, fare: 493 },
        { max: 45, fare: 535 },
        { max: 50, fare: 577 },
        { max: 55, fare: 619 },
        { max: 60, fare: 661 }
      ]
    };

    // ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã¨é§…ã®ãƒãƒƒãƒ”ãƒ³ã‚°
    const destinations = [
      { name: "ä¸­å¤®å¤§å­¦ï¼ˆå¸‚è°·ç”°ç”ºï¼‰", station: "å¸‚ãƒ¶è°·" },
      { name: "ä¸­å¤®å¤§å­¦ï¼ˆå¾Œæ¥½åœ’ï¼‰", station: "å¾Œæ¥½åœ’" },
      { name: "ä¸­å¤®å¤§å­¦ï¼ˆèŒ—è·è°·ï¼‰", station: "èŒ—è·è°·" },
      { name: "ä¸­å¤®å¤§å­¦ï¼ˆå¤šæ‘©ï¼‰", station: "ä¸­å¤®å¤§å­¦ãƒ»æ˜æ˜Ÿå¤§å­¦" },
      { name: "æ±äº¬ç†ç§‘å¤§ï¼ˆç¥æ¥½å‚ï¼‰", station: "é£¯ç”°æ©‹" },
      { name: "æ±äº¬ç†ç§‘å¤§ï¼ˆè‘›é£¾ï¼‰", station: "é‡‘ç”º" },
      { name: "æ±äº¬ç†ç§‘å¤§ï¼ˆé‡ç”°ï¼‰", station: "é‹æ²³" },
      { name: "æ³•æ”¿å¤§å­¦ï¼ˆå¸‚ãƒ¶è°·ï¼‰", station: "é£¯ç”°æ©‹" },
      { name: "ä¸Šæ™ºå¤§å­¦ï¼ˆå››è°·ï¼‰", station: "å››ãƒ„è°·" },
      { name: "æ—¥æœ¬å¤§å­¦ï¼ˆæ°´é“æ©‹ï¼‰", station: "æ°´é“æ©‹" },
      { name: "æ˜æ²»å¤§å­¦ï¼ˆå’Œæ³‰ï¼‰", station: "æ˜å¤§å‰" },
      { name: "æ±äº¬å¤§å­¦ï¼ˆé§’å ´ï¼‰", station: "é§’å ´æ±å¤§å‰" },
      { name: "æ—©ç¨²ç”°å¤§å­¦ï¼ˆæ–‡ï¼‰", station: "æ—©ç¨²ç”°" },
      { name: "æ—©ç¨²ç”°å¤§å­¦ï¼ˆç†å·¥ï¼‰", station: "è¥¿æ—©ç¨²ç”°" },
      { name: "æ±äº¬ç§‘å­¦å¤§ï¼ˆæ¹¯å³¶ï¼‰", station: "å¾¡èŒ¶ãƒæ°´" },
      { name: "æ±äº¬ç§‘å­¦å¤§ï¼ˆå¤§å²¡å±±ï¼‰", station: "å¤§å²¡å±±" },
      { name: "æ­¦è”µé‡ç¾è¡“å¤§å­¦ï¼ˆé·¹ã®å°ï¼‰", station: "é·¹ã®å°" },
      { name: "â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•", station: "", disabled: true },
      { name: "æ±äº¬é§…", station: "æ±äº¬" },
      { name: "èˆæµœé§…ï¼ˆTDLï¼‰", station: "èˆæµœ" }
    ];

    // ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ãƒ‡ãƒ¼ã‚¿ï¼ˆä¹—è»Šä½ç½®æƒ…å ±ï¼‰
    const campusData = [
      {
        name: "ä¸­å¤®ï¼ˆå¸‚ãƒ¶è°·ç”°ç”ºï¼‰",
        stations: [
          { station: "å¸‚ãƒ¶è°·", line: "æœ‰æ¥½ç”ºç·š", door: "1å·è»Š1ç•ªãƒ‰ã‚¢", exit: "6ç•ªå‡ºå£", walkFromExit: 0, walkTotal: 2, note: "å‡ºå£æ­£é¢" },
          { station: "å¸‚ãƒ¶è°·", line: "å—åŒ—ç·š", door: "3å·è»Š3ç•ªãƒ‰ã‚¢", exit: "6ç•ªå‡ºå£", walkFromExit: 0, walkTotal: 2, note: "å‡ºå£æ­£é¢" },
          { station: "å¸‚ãƒ¶è°·", line: "éƒ½å–¶æ–°å®¿ç·š", door: "5å·è»Š4ç•ªãƒ‰ã‚¢", exit: "6ç•ªå‡ºå£", walkFromExit: 0, walkTotal: 2, note: "å‡ºå£æ­£é¢" },
          { station: "å¸‚ãƒ¶è°·", line: "JRä¸­å¤®ãƒ»ç·æ­¦ç·š", door: "5å·è»Š2ç•ªãƒ‰ã‚¢", exit: "å¸‚ãƒ¶è°·æ©‹æ–¹é¢å£", walkFromExit: 0, walkTotal: 3, note: "æ”¹æœ­å‡ºã¦æ­£é¢" }
        ]
      },
      {
        name: "ä¸­å¤®ï¼ˆå¾Œæ¥½åœ’ï¼‰",
        stations: [
          { station: "å¾Œæ¥½åœ’", line: "ä¸¸ãƒå†…ç·š", door: "5å·è»Š2ç•ªãƒ‰ã‚¢", exit: "2ç•ªå‡ºå£", walkFromExit: 1, walkTotal: 5, note: "æ˜¥æ—¥é€šã‚Šæ²¿ã„" },
          { station: "å¾Œæ¥½åœ’", line: "å—åŒ—ç·š", door: "3å·è»Š3ç•ªãƒ‰ã‚¢", exit: "2ç•ªå‡ºå£", walkFromExit: 1, walkTotal: 5, note: "æ˜¥æ—¥é€šã‚Šæ²¿ã„" },
          { station: "æ˜¥æ—¥", line: "éƒ½å–¶ä¸‰ç”°ç·š", door: "6å·è»Š1ç•ªãƒ‰ã‚¢", exit: "A2å‡ºå£", walkFromExit: 1, walkTotal: 4, note: "æ˜¥æ—¥é€šã‚Šæ²¿ã„" },
          { station: "æ˜¥æ—¥", line: "éƒ½å–¶å¤§æ±Ÿæˆ¸ç·š", door: "4å·è»Š4ç•ªãƒ‰ã‚¢", exit: "A2å‡ºå£", walkFromExit: 1, walkTotal: 4, note: "æ˜¥æ—¥é€šã‚Šæ²¿ã„" }
        ]
      },
      {
        name: "ä¸­å¤®ï¼ˆèŒ—è·è°·ï¼‰",
        stations: [
          { station: "èŒ—è·è°·", line: "ä¸¸ãƒå†…ç·š", door: "5å·è»Š2ç•ªãƒ‰ã‚¢", exit: "2ç•ªå‡ºå£", walkFromExit: 1, walkTotal: 2, note: "å·¦æ‰‹å¤§é€šã‚Šæ²¿ã„ã™ãã§ã™" }
        ]
      },
      {
        name: "ä¸­å¤®ï¼ˆå¤šæ‘©ï¼‰",
        stations: [
          { station: "ä¸­å¤®å¤§å­¦ãƒ»æ˜æ˜Ÿå¤§å­¦", line: "å¤šæ‘©éƒ½å¸‚ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«", door: "ä¸æ˜", exit: "ç›´çµ", walkFromExit: 0, walkTotal: 1, note: "å³æ‰‹ã™ãã€ç›´çµã—ã¦ã„ã¾ã™" }
        ]
      }
    ];

    // ä¹—ã‚Šæ›ãˆæ™‚é–“ãƒ‡ãƒ¼ã‚¿
    const transferData = {
      "é£¯ç”°æ©‹": { "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­æ±è¥¿ç·š": 5, "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­æœ‰æ¥½ç”ºç·š": 6, "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": 6, "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” éƒ½å–¶å¤§æ±Ÿæˆ¸ç·š": 8, "æ±äº¬ãƒ¡ãƒˆãƒ­æ±è¥¿ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­æœ‰æ¥½ç”ºç·š": 5, "æ±äº¬ãƒ¡ãƒˆãƒ­æ±è¥¿ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": 5, "æ±äº¬ãƒ¡ãƒˆãƒ­æ±è¥¿ç·š â‡” éƒ½å–¶å¤§æ±Ÿæˆ¸ç·š": 10, "æ±äº¬ãƒ¡ãƒˆãƒ­æœ‰æ¥½ç”ºç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": 3, "æ±äº¬ãƒ¡ãƒˆãƒ­æœ‰æ¥½ç”ºç·š â‡” éƒ½å–¶å¤§æ±Ÿæˆ¸ç·š": 8, "æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š â‡” éƒ½å–¶å¤§æ±Ÿæˆ¸ç·š": 8 },
      "å¸‚ãƒ¶è°·": { "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­æœ‰æ¥½ç”ºç·š": 3, "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": 5, "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” éƒ½å–¶æ–°å®¿ç·š": 5, "æ±äº¬ãƒ¡ãƒˆãƒ­æœ‰æ¥½ç”ºç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": 3, "æ±äº¬ãƒ¡ãƒˆãƒ­æœ‰æ¥½ç”ºç·š â‡” éƒ½å–¶æ–°å®¿ç·š": 4, "æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š â‡” éƒ½å–¶æ–°å®¿ç·š": 5 },
      "å››ãƒ„è°·": { "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” JRä¸­å¤®ç·šå¿«é€Ÿ": 3, "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­ä¸¸ãƒå†…ç·š": 3, "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": 4, "JRä¸­å¤®ç·šå¿«é€Ÿ â‡” æ±äº¬ãƒ¡ãƒˆãƒ­ä¸¸ãƒå†…ç·š": 2, "JRä¸­å¤®ç·šå¿«é€Ÿ â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": 3, "æ±äº¬ãƒ¡ãƒˆãƒ­ä¸¸ãƒå†…ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": 3 },
      "å¾Œæ¥½åœ’": { "æ±äº¬ãƒ¡ãƒˆãƒ­ä¸¸ãƒå†…ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": 6 },
      "æ˜¥æ—¥": { "éƒ½å–¶ä¸‰ç”°ç·š â‡” éƒ½å–¶å¤§æ±Ÿæˆ¸ç·š": 4 },
      "æ–°å®¿": { "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” JRå±±æ‰‹ç·š": 3, "JR â‡” éƒ½å–¶æ–°å®¿ç·š": 8, "JR â‡” éƒ½å–¶å¤§æ±Ÿæˆ¸ç·š": 7, "JR â‡” äº¬ç‹ç·š": 6, "JR â‡” å°ç”°æ€¥ç·š": 5, "JR â‡” æ±äº¬ãƒ¡ãƒˆãƒ­ä¸¸ãƒå†…ç·š": 3 },
      "æ± è¢‹": { "JR â‡” æ±äº¬ãƒ¡ãƒˆãƒ­ä¸¸ãƒå†…ç·š": 5, "JR â‡” æ±äº¬ãƒ¡ãƒˆãƒ­æœ‰æ¥½ç”ºç·š": 5, "JR â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å‰¯éƒ½å¿ƒç·š": 8 },
      "æ¸‹è°·": { "JR â‡” æ±äº¬ãƒ¡ãƒˆãƒ­éŠ€åº§ç·š": 3, "JR â‡” æ±äº¬ãƒ¡ãƒˆãƒ­åŠè”µé–€ç·š": 7, "JR â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å‰¯éƒ½å¿ƒç·š": 7, "JR â‡” æ±æ€¥æ±æ¨ªç·š": 7, "JR â‡” äº¬ç‹äº•ã®é ­ç·š": 6, "æ±äº¬ãƒ¡ãƒˆãƒ­å‰¯éƒ½å¿ƒç·š â‡” æ±æ€¥æ±æ¨ªç·š": 1 },
      "ç›®é»’": { "JR â‡” æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": 6, "JR â‡” éƒ½å–¶ä¸‰ç”°ç·š": 6, "JR â‡” æ±æ€¥ç›®é»’ç·š": 6, "æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š â‡” éƒ½å–¶ä¸‰ç”°ç·š": 1, "æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š â‡” æ±æ€¥ç›®é»’ç·š": 1, "éƒ½å–¶ä¸‰ç”°ç·š â‡” æ±æ€¥ç›®é»’ç·š": 1 },
      "å¤§å²¡å±±": { "æ±æ€¥ç›®é»’ç·š â‡” æ±æ€¥å¤§äº•ç”ºç·š": 3 },
      "æ˜å¤§å‰": { "äº¬ç‹ç·š â‡” äº¬ç‹äº•ã®é ­ç·š": 3 },
      "é«˜å¹¡ä¸å‹•": { "äº¬ç‹ç·š â‡” å¤šæ‘©ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«": 6 },
      "æ±äº¬": { "JRå„ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­ä¸¸ãƒå†…ç·š": 6 },
      "å¾¡èŒ¶ãƒæ°´": { "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” JRä¸­å¤®ç·šå¿«é€Ÿ": 1, "JRä¸­å¤®ãƒ»ç·æ­¦ç·š â‡” æ±äº¬ãƒ¡ãƒˆãƒ­ä¸¸ãƒå†…ç·š": 6, "JRä¸­å¤®ç·šå¿«é€Ÿ â‡” æ±äº¬ãƒ¡ãƒˆãƒ­ä¸¸ãƒå†…ç·š": 6 }
    };

    // è·¯ç·šãƒ‡ãƒ¼ã‚¿
    const routeData = {
      "JRä¸­å¤®ãƒ»ç·æ­¦ç·š": [
        { from: "å‰ç¥¥å¯º", to: "ä¸‰é·¹", time: 2, distance: 1.6 },
        { from: "ä¸­é‡", to: "å‰ç¥¥å¯º", time: 10, distance: 7.8 },
        { from: "æ±ä¸­é‡", to: "ä¸­é‡", time: 3, distance: 1.9 },
        { from: "æ–°å®¿", to: "æ±ä¸­é‡", time: 5, distance: 2.5 },
        { from: "ä»£ã€…æœ¨", to: "æ–°å®¿", time: 2, distance: 0.7 },
        { from: "ä¿¡æ¿ƒç”º", to: "ä»£ã€…æœ¨", time: 3, distance: 1.7 },
        { from: "ä¿¡æ¿ƒç”º", to: "å››ãƒ„è°·", time: 2, distance: 1.3 },
        { from: "å¸‚ãƒ¶è°·", to: "å››ãƒ„è°·", time: 2, distance: 0.8 },
        { from: "å¸‚ãƒ¶è°·", to: "é£¯ç”°æ©‹", time: 2, distance: 1.5 },
        { from: "é£¯ç”°æ©‹", to: "æ°´é“æ©‹", time: 1, distance: 0.9 },
        { from: "æ°´é“æ©‹", to: "å¾¡èŒ¶ãƒæ°´", time: 2, distance: 0.8 },
        { from: "å¾¡èŒ¶ãƒæ°´", to: "ç§‹è‘‰åŸ", time: 2, distance: 0.9 },
        { from: "ç§‹è‘‰åŸ", to: "æµ…è‰æ©‹", time: 2, distance: 1.1 },
        { from: "æµ…è‰æ©‹", to: "ä¸¡å›½", time: 2, distance: 0.8 },
        { from: "ä¸¡å›½", to: "éŒ¦ç³¸ç”º", time: 2, distance: 1.5 },
        { from: "éŒ¦ç³¸ç”º", to: "äº€æˆ¸", time: 2, distance: 1.5 }
      ],
      "éƒ½å–¶æ–°å®¿ç·š": [
        { from: "å¸‚ãƒ¶è°·", to: "ä¹æ®µä¸‹", time: 2, distance: 1.3 },
        { from: "ç¥ä¿ç”º", to: "ä¹æ®µä¸‹", time: 1, distance: 0.6 },
        { from: "ç¥ä¿ç”º", to: "å°å·ç”º", time: 2, distance: 0.9 },
        { from: "å°å·ç”º", to: "å²©æœ¬ç”º", time: 1, distance: 0.8 },
        { from: "å²©æœ¬ç”º", to: "é¦¬å–°æ¨ªå±±", time: 1, distance: 0.8 },
        { from: "é¦¬å–°æ¨ªå±±", to: "æ£®ä¸‹", time: 2, distance: 1.4 },
        { from: "æ£®ä¸‹", to: "ä½å‰", time: 3, distance: 1.7 },
        { from: "ä½å‰", to: "æœ¬å…«å¹¡", time: 19, distance: 12.3 },
        { from: "å¸‚ãƒ¶è°·", to: "æ–°å®¿ä¸‰ä¸ç›®", time: 4, distance: 2.9 },
        { from: "æ–°å®¿ä¸‰ä¸ç›®", to: "æ–°ç·šæ–°å®¿", time: 1, distance: 0.8 }
      ],
      "äº¬ç‹ç·š": [
        { from: "æ–°ç·šæ–°å®¿", to: "ç¬¹å¡š", time: 6, distance: 3.6 },
        { from: "æ–°å®¿", to: "ç¬¹å¡š", time: 4, distance: 3.6 },
        { from: "ç¬¹å¡š", to: "èª¿å¸ƒ", time: 13, distance: 11.9 },
        { from: "èª¿å¸ƒ", to: "é«˜å¹¡ä¸å‹•", time: 14, distance: 14.2 },
        { from: "é«˜å¹¡ä¸å‹•", to: "å¤šæ‘©å‹•ç‰©å…¬åœ’", time: 3, distance: 2.0 }
      ],
      "æ±äº¬ãƒ¡ãƒˆãƒ­å—åŒ—ç·š": [
        { from: "ç‹å­", to: "é§’è¾¼", time: 4, distance: 2.4 },
        { from: "é§’è¾¼", to: "æ±å¤§å‰", time: 3, distance: 2.3 },
        { from: "å¾Œæ¥½åœ’", to: "æ±å¤§å‰", time: 3, distance: 1.3 },
        { from: "é£¯ç”°æ©‹", to: "å¾Œæ¥½åœ’", time: 1, distance: 1.4 },
        { from: "å¸‚ãƒ¶è°·", to: "é£¯ç”°æ©‹", time: 2, distance: 1.5 },
        { from: "å¸‚ãƒ¶è°·", to: "å››ãƒ„è°·", time: 1, distance: 1.0 },
        { from: "å››ãƒ„è°·", to: "æ°¸ç”°ç”º", time: 2, distance: 1.5 },
        { from: "æ°¸ç”°ç”º", to: "æºœæ± å±±ç‹", time: 1, distance: 0.7 },
        { from: "æºœæ± å±±ç‹", to: "ç›®é»’", time: 12, distance: 5.7 }
      ],
      "æ±æ€¥ç›®é»’ç·šæ±æ€¥å¤§äº•ç”ºç·š": [
        { from: "ç›®é»’", to: "å¤§å²¡å±±", time: 6, distance: 4.3 },
        { from: "å¤§å²¡å±±", to: "æ­¦è”µå°æ‰", time: 9, distance: 5.3 }
      ],
      "æ±æ€¥å¤§äº•ç”ºç·š": [
        { from: "å¤§å²¡å±±", to: "è‡ªç”±ãŒä¸˜", time: 3, distance: 1.5 },
        { from: "å¤§å²¡å±±", to: "ä¸­å»¶", time: 6, distance: 2.7 },
        { from: "ä¸­å»¶", to: "å¤§äº•ç”º", time: 4, distance: 2.1 }
      ],
      "æ±äº¬ãƒ¡ãƒˆãƒ­æœ‰æ¥½ç”ºç·š": [
        { from: "æœ‰æ¥½ç”º", to: "æ°¸ç”°ç”º", time: 4, distance: 1.9 },
        { from: "å¸‚ãƒ¶è°·", to: "æ°¸ç”°ç”º", time: 3, distance: 1.8 },
        { from: "å¸‚ãƒ¶è°·", to: "é£¯ç”°æ©‹", time: 2, distance: 1.5 },
        { from: "é£¯ç”°æ©‹", to: "æ± è¢‹", time: 9, distance: 4.9 }
      ],
      "æ±äº¬ãƒ¡ãƒˆãƒ­ä¸¸ãƒå†…ç·š": [
        { from: "æ± è¢‹", to: "èŒ—è·è°·", time: 5, distance: 3.0 },
        { from: "èŒ—è·è°·", to: "å¾Œæ¥½åœ’", time: 3, distance: 1.8 },
        { from: "å¾Œæ¥½åœ’", to: "æœ¬éƒ·ä¸‰ä¸ç›®", time: 1, distance: 0.8 },
        { from: "æœ¬éƒ·ä¸‰ä¸ç›®", to: "å¾¡èŒ¶ãƒæ°´", time: 1, distance: 0.8 },
        { from: "å¾¡èŒ¶ãƒæ°´", to: "æ·¡è·¯ç”º", time: 1, distance: 0.8 },
        { from: "æ·¡è·¯ç”º", to: "å¤§æ‰‹ç”º", time: 1, distance: 0.9 },
        { from: "å¤§æ‰‹ç”º", to: "æ±äº¬", time: 1, distance: 0.6 },
        { from: "æ±äº¬", to: "éŠ€åº§", time: 2, distance: 1.1 },
        { from: "éŠ€åº§", to: "éœãƒ¶é–¢", time: 1, distance: 1.0 },
        { from: "éœãƒ¶é–¢", to: "å›½ä¼šè­°äº‹å ‚å‰", time: 1, distance: 0.7 },
        { from: "å›½ä¼šè­°äº‹å ‚å‰", to: "èµ¤å‚è¦‹é™„", time: 1, distance: 0.9 },
        { from: "èµ¤å‚è¦‹é™„", to: "å››ãƒ„è°·", time: 2, distance: 1.3 },
        { from: "å››ãƒ„è°·", to: "æ–°å®¿ä¸‰ä¸ç›®", time: 5, distance: 2.6 },
        { from: "æ–°å®¿ä¸‰ä¸ç›®", to: "æ–°å®¿", time: 1, distance: 0.3 },
        { from: "æ–°å®¿", to: "ä¸­é‡å‚ä¸Š", time: 4, distance: 1.9 },
        { from: "ä¸­é‡å‚ä¸Š", to: "è»çªª", time: 10, distance: 5.7 }
      ],
      "æ±äº¬ãƒ¡ãƒˆãƒ­æ±è¥¿ç·š": [
        { from: "ä¸­é‡", to: "é«˜ç”°é¦¬å ´", time: 6, distance: 3.9 },
        { from: "é«˜ç”°é¦¬å ´", to: "æ—©ç¨²ç”°", time: 2, distance: 1.7 },
        { from: "æ—©ç¨²ç”°", to: "é£¯ç”°æ©‹", time: 4, distance: 2.4 },
        { from: "é£¯ç”°æ©‹", to: "ä¹æ®µä¸‹", time: 1, distance: 0.7 },
        { from: "ä¹æ®µä¸‹", to: "å¤§æ‰‹ç”º", time: 4, distance: 2.1 },
        { from: "å¤§æ‰‹ç”º", to: "æ—¥æœ¬æ©‹", time: 2, distance: 0.8 },
        { from: "æ—¥æœ¬æ©‹", to: "èŒ…å ´ç”º", time: 1, distance: 0.5 },
        { from: "èŒ…å ´ç”º", to: "é–€å‰ä»²ç”º", time: 3, distance: 1.8 }
      ],
      "æ±äº¬ãƒ¡ãƒˆãƒ­åƒä»£ç”°ç·š": [
        { from: "ä»£ã€…æœ¨ä¸ŠåŸ", to: "æ˜æ²»ç¥å®®å‰", time: 4, distance: 2.2 },
        { from: "æ˜æ²»ç¥å®®å‰", to: "è¡¨å‚é“", time: 1, distance: 0.9 },
        { from: "è¡¨å‚é“", to: "å›½ä¼šè­°äº‹å ‚å‰", time: 6, distance: 3.3 },
        { from: "å›½ä¼šè­°äº‹å ‚å‰", to: "éœãƒ¶é–¢", time: 1, distance: 0.8 },
        { from: "éœãƒ¶é–¢", to: "æ—¥æ¯”è°·", time: 1, distance: 0.8 },
        { from: "æ—¥æ¯”è°·", to: "å¤§æ‰‹ç”º", time: 3, distance: 1.4 },
        { from: "å¤§æ‰‹ç”º", to: "æ–°å¾¡èŒ¶ãƒæ°´", time: 2, distance: 1.3 },
        { from: "æ–°å¾¡èŒ¶ãƒæ°´", to: "è¥¿æ—¥æš®é‡Œ", time: 7, distance: 4.3 },
        { from: "è¥¿æ—¥æš®é‡Œ", to: "ç”ºå±‹", time: 3, distance: 1.7 },
        { from: "ç”ºå±‹", to: "åŒ—åƒä½", time: 3, distance: 2.6 }
      ],
      "JRå¸¸ç£ç·©è¡Œç·š": [
        { from: "åŒ—åƒä½", to: "ç¶¾ç€¬", time: 3, distance: 2.6 },
        { from: "ç¶¾ç€¬", to: "é‡‘ç”º", time: 7, distance: 4.1 }
      ],
      "æ±äº¬ãƒ¡ãƒˆãƒ­å‰¯éƒ½å¿ƒç·š": [
        { from: "æ± è¢‹", to: "è¥¿æ—©ç¨²ç”°", time: 5, distance: 3.3 },
        { from: "è¥¿æ—©ç¨²ç”°", to: "æ±æ–°å®¿", time: 1, distance: 0.9 },
        { from: "æ±æ–°å®¿", to: "æ–°å®¿ä¸‰ä¸ç›®", time: 2, distance: 1.1 },
        { from: "æ–°å®¿ä¸‰ä¸ç›®", to: "æ˜æ²»ç¥å®®å‰", time: 4, distance: 2.6 },
        { from: "æ˜æ²»ç¥å®®å‰", to: "æ¸‹è°·", time: 2, distance: 1.0 }
      ],
      "æ±æ€¥æ±æ¨ªç·š": [
        { from: "æ¸‹è°·", to: "ä¸­ç›®é»’", time: 5, distance: 2.2 },
        { from: "ä¸­ç›®é»’", to: "è‡ªç”±ãŒä¸˜", time: 6, distance: 4.8 },
        { from: "è‡ªç”±ãŒä¸˜", to: "æ­¦è”µå°æ‰", time: 6, distance: 3.8 }
      ],
      "éƒ½å–¶ä¸‰ç”°ç·š": [
        { from: "ç›®é»’", to: "ä¸‰ç”°", time: 9, distance: 4.0 },
        { from: "ä¸‰ç”°", to: "æ—¥æ¯”è°·", time: 6, distance: 3.3 },
        { from: "æ—¥æ¯”è°·", to: "å¤§æ‰‹ç”º", time: 1, distance: 0.9 },
        { from: "å¤§æ‰‹ç”º", to: "ç¥ä¿ç”º", time: 2, distance: 1.7 },
        { from: "ç¥ä¿ç”º", to: "æ°´é“æ©‹", time: 2, distance: 1.0 },
        { from: "æ°´é“æ©‹", to: "æ˜¥æ—¥", time: 1, distance: 0.7 },
        { from: "æ˜¥æ—¥", to: "å·£é´¨", time: 5, distance: 3.3 }
      ],
      "éƒ½å–¶å¤§æ±Ÿæˆ¸ç·š": [
        { from: "éƒ½åºå‰", to: "ä¸­é‡å‚ä¸Š", time: 4, distance: 2.0 },
        { from: "ä¸­é‡å‚ä¸Š", to: "æ±ä¸­é‡", time: 2, distance: 1.0 },
        { from: "æ±ä¸­é‡", to: "ç·´é¦¬", time: 8, distance: 5.3 },
        { from: "éƒ½åºå‰", to: "æ±æ–°å®¿", time: 5, distance: 2.2 },
        { from: "æ±æ–°å®¿", to: "é£¯ç”°æ©‹", time: 8, distance: 3.6 },
        { from: "é£¯ç”°æ©‹", to: "æ˜¥æ—¥", time: 1, distance: 1.0 },
        { from: "æ˜¥æ—¥", to: "æœ¬éƒ·ä¸‰ä¸ç›®", time: 1, distance: 0.8 },
        { from: "æœ¬éƒ·ä¸‰ä¸ç›®", to: "ä¸Šé‡å¾¡å¾’ç”º", time: 2, distance: 1.1 },
        { from: "ä¸Šé‡å¾¡å¾’ç”º", to: "è”µå‰", time: 3, distance: 1.8 },
        { from: "è”µå‰", to: "ä¸¡å›½", time: 2, distance: 1.2 },
        { from: "ä¸¡å›½", to: "æ£®ä¸‹", time: 2, distance: 1.0 },
        { from: "æ£®ä¸‹", to: "æ¸…æ¾„ç™½æ²³", time: 1, distance: 0.6 },
        { from: "æ¸…æ¾„ç™½æ²³", to: "é–€å‰ä»²ç”º", time: 2, distance: 1.2 },
        { from: "é–€å‰ä»²ç”º", to: "å¤§é–€", time: 11, distance: 5.5 },
        { from: "å¤§é–€", to: "é’å±±ä¸€ä¸ç›®", time: 9, distance: 4.5 },
        { from: "é’å±±ä¸€ä¸ç›®", to: "ä»£ã€…æœ¨", time: 5, distance: 2.7 },
        { from: "ä»£ã€…æœ¨", to: "æ–°å®¿", time: 1, distance: 0.6 }
      ],
      "äº¬ç‹äº•ã®é ­ç·š": [
        { from: "æ¸‹è°·", to: "é§’å ´æ±å¤§å‰", time: 3, distance: 1.4 },
        { from: "é§’å ´æ±å¤§å‰", to: "ä¸‹åŒ—æ²¢", time: 3, distance: 1.6 },
        { from: "ä¸‹åŒ—æ²¢", to: "æ˜å¤§å‰", time: 4, distance: 1.9 },
        { from: "æ˜å¤§å‰", to: "æ°¸ç¦ç”º", time: 2, distance: 1.1 },
        { from: "æ°¸ç¦ç”º", to: "å‰ç¥¥å¯º", time: 10, distance: 6.7 }
      ],
      "å¤šæ‘©éƒ½å¸‚ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«": [
        { from: "å¤šæ‘©ã‚»ãƒ³ã‚¿ãƒ¼", to: "å¤§å¡šãƒ»å¸äº¬å¤§å­¦", time: 4, distance: 1.7 },
        { from: "å¤§å¡šãƒ»å¸äº¬å¤§å­¦", to: "ä¸­å¤®å¤§å­¦ãƒ»æ˜æ˜Ÿå¤§å­¦", time: 1, distance: 0.9 },
        { from: "ä¸­å¤®å¤§å­¦ãƒ»æ˜æ˜Ÿå¤§å­¦", to: "å¤šæ‘©å‹•ç‰©å…¬åœ’", time: 2, distance: 1.1 },
        { from: "å¤šæ‘©å‹•ç‰©å…¬åœ’", to: "é«˜å¹¡ä¸å‹•", time: 5, distance: 1.8 },
        { from: "é«˜å¹¡ä¸å‹•", to: "ç«‹å·å—", time: 10, distance: 4.7 },
        { from: "ç«‹å·å—", to: "ç«‹å·åŒ—", time: 1, distance: 0.4 },
        { from: "ç«‹å·åŒ—", to: "ç‰å·ä¸Šæ°´", time: 9, distance: 3.9 }
      ],
      "JRå±±æ‰‹ç·š": [
        { from: "å“å·", to: "å¤§å´", time: 3, distance: 2.0 },
        { from: "å¤§å´", to: "äº”åç”°", time: 2, distance: 0.9 },
        { from: "äº”åç”°", to: "ç›®é»’", time: 2, distance: 1.2 },
        { from: "ç›®é»’", to: "æµæ¯”å¯¿", time: 2, distance: 1.5 },
        { from: "æµæ¯”å¯¿", to: "æ¸‹è°·", time: 4, distance: 1.6 },
        { from: "æ¸‹è°·", to: "åŸå®¿", time: 3, distance: 1.2 },
        { from: "åŸå®¿", to: "ä»£ã€…æœ¨", time: 2, distance: 1.5 },
        { from: "ä»£ã€…æœ¨", to: "æ–°å®¿", time: 3, distance: 0.7 },
        { from: "æ–°å®¿", to: "é«˜ç”°é¦¬å ´", time: 4, distance: 2.7 },
        { from: "é«˜ç”°é¦¬å ´", to: "æ± è¢‹", time: 5, distance: 2.1 },
        { from: "æ± è¢‹", to: "å¤§å¡š", time: 2, distance: 1.8 },
        { from: "å¤§å¡š", to: "å·£é´¨", time: 2, distance: 1.1 },
        { from: "å·£é´¨", to: "é§’è¾¼", time: 2, distance: 0.7 },
        { from: "é§’è¾¼", to: "ç”°ç«¯", time: 3, distance: 1.6 },
        { from: "ç”°ç«¯", to: "è¥¿æ—¥æš®é‡Œ", time: 1, distance: 0.8 },
        { from: "è¥¿æ—¥æš®é‡Œ", to: "æ—¥æš®é‡Œ", time: 2, distance: 0.5 },
        { from: "æ—¥æš®é‡Œ", to: "ä¸Šé‡", time: 4, distance: 2.2 },
        { from: "ä¸Šé‡", to: "å¾¡å¾’ç”º", time: 2, distance: 0.6 },
        { from: "å¾¡å¾’ç”º", to: "ç§‹è‘‰åŸ", time: 2, distance: 1.0 },
        { from: "ç§‹è‘‰åŸ", to: "ç¥ç”°", time: 1, distance: 0.7 },
        { from: "ç¥ç”°", to: "æ±äº¬", time: 2, distance: 1.3 },
        { from: "æ±äº¬", to: "æœ‰æ¥½ç”º", time: 2, distance: 0.8 },
        { from: "æœ‰æ¥½ç”º", to: "æ–°æ©‹", time: 2, distance: 1.1 },
        { from: "æ–°æ©‹", to: "æµœæ¾ç”º", time: 2, distance: 1.2 },
        { from: "æµœæ¾ç”º", to: "ç”°ç”º", time: 3, distance: 1.5 },
        { from: "ç”°ç”º", to: "é«˜è¼ªã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤", time: 3, distance: 1.3 },
        { from: "é«˜è¼ªã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤", to: "å“å·", time: 2, distance: 0.9 }
      ],
      "JRå¸¸ç£ç·š": [
        { from: "å“å·", to: "æ–°æ©‹", time: 5, distance: 4.9 },
        { from: "æ–°æ©‹", to: "æ±äº¬", time: 3, distance: 1.9 },
        { from: "æ±äº¬", to: "ä¸Šé‡", time: 6, distance: 3.6 },
        { from: "ä¸Šé‡", to: "æ—¥æš®é‡Œ", time: 3, distance: 2.2 },
        { from: "æ—¥æš®é‡Œ", to: "å—åƒä½", time: 5, distance: 3.4 },
        { from: "å—åƒä½", to: "åŒ—åƒä½", time: 2, distance: 1.8 },
        { from: "åŒ—åƒä½", to: "æŸ", time: 17, distance: 21.7 }
      ],
      "æ±æ­¦é‡ç”°ç·š": [
        { from: "å¤§å®®", to: "æ˜¥æ—¥éƒ¨", time: 17, distance: 15.2 },
        { from: "æ˜¥æ—¥éƒ¨", to: "é‹æ²³", time: 26, distance: 18.0 },
        { from: "é‹æ²³", to: "æµå±±ãŠãŠãŸã‹ã®æ£®", time: 7, distance: 5.2 },
        { from: "æµå±±ãŠãŠãŸã‹ã®æ£®", to: "æŸ", time: 6, distance: 4.5 },
        { from: "æŸ", to: "æ–°éŒãƒ¶è°·", time: 10, distance: 10.4 },
        { from: "æ–°éŒãƒ¶è°·", to: "èˆ¹æ©‹", time: 8, distance: 9.4 }
      ],
      "è¥¿æ­¦å›½åˆ†å¯ºç·š": [
        { from: "å›½åˆ†å¯º", to: "é·¹ã®å°", time: 5, distance: 3.6 },
        { from: "å°å·", to: "é·¹ã®å°", time: 2, distance: 1.5 }
      ],
      "è¥¿æ­¦æ–°å®¿ç·šãƒ»æ‹å³¶ç·š": [
        { from: "è¥¿æ­¦æ–°å®¿", to: "é«˜ç”°é¦¬å ´", time: 3, distance: 2.0 },
        { from: "é«˜ç”°é¦¬å ´", to: "å°å¹³", time: 26, distance: 20.6 },
        { from: "å°å¹³", to: "æ‰€æ²¢", time: 7, distance: 6.3 },
        { from: "å°å¹³", to: "å°å·", time: 5, distance: 2.7 },
        { from: "å°å·", to: "æ±å¤§å’Œå¸‚", time: 3, distance: 3.0 },
        { from: "æ±å¤§å’Œå¸‚", to: "ç‰å·ä¸Šæ°´", time: 2, distance: 1.5 }
      ],
      "æ±äº¬ãƒ¡ãƒˆãƒ­æ—¥æ¯”è°·ç·š": [
        { from: "ä¸­ç›®é»’", to: "æµæ¯”å¯¿", time: 2, distance: 1.0 },
        { from: "æµæ¯”å¯¿", to: "éœãŒé–¢", time: 12, distance: 6.0 },
        { from: "éœãŒé–¢", to: "æ—¥æ¯”è°·", time: 2, distance: 1.2 },
        { from: "æ—¥æ¯”è°·", to: "éŠ€åº§", time: 1, distance: 0.4 },
        { from: "éŠ€åº§", to: "å…«ä¸å €", time: 6, distance: 2.0 },
        { from: "å…«ä¸å €", to: "èŒ…å ´ç”º", time: 1, distance: 0.5 },
        { from: "èŒ…å ´ç”º", to: "äººå½¢ç”º", time: 2, distance: 0.9 },
        { from: "äººå½¢ç”º", to: "ç§‹è‘‰åŸ", time: 4, distance: 1.5 },
        { from: "ç§‹è‘‰åŸ", to: "ä»²å¾¡å¾’ç”º", time: 2, distance: 1.0 },
        { from: "ä»²å¾¡å¾’ç”º", to: "ä¸Šé‡", time: 1, distance: 0.5 },
        { from: "ä¸Šé‡", to: "å—åƒä½", time: 6, distance: 3.2 },
        { from: "å—åƒä½", to: "åŒ—åƒä½", time: 2, distance: 2.1 }
      ],
      "æ±äº¬ãƒ¡ãƒˆãƒ­åŠè”µé–€ç·š": [
        { from: "æ¸‹è°·", to: "è¡¨å‚é“", time: 2, distance: 1.3 },
        { from: "è¡¨å‚é“", to: "é’å±±ä¸€ä¸ç›®", time: 2, distance: 1.4 },
        { from: "é’å±±ä¸€ä¸ç›®", to: "æ°¸ç”°ç”º", time: 1, distance: 1.4 },
        { from: "æ°¸ç”°ç”º", to: "ä¹æ®µä¸‹", time: 4, distance: 2.6 },
        { from: "ä¹æ®µä¸‹", to: "ç¥ä¿ç”º", time: 1, distance: 0.4 },
        { from: "ç¥ä¿ç”º", to: "å¤§æ‰‹ç”º", time: 3, distance: 1.7 },
        { from: "å¤§æ‰‹ç”º", to: "ä¸‰è¶Šå‰", time: 2, distance: 0.7 },
        { from: "ä¸‰è¶Šå‰", to: "æ°´å¤©å®®å‰", time: 3, distance: 1.3 },
        { from: "æ°´å¤©å®®å‰", to: "æ¸…æ¾„ç™½æ²³", time: 3, distance: 1.7 },
        { from: "æ¸…æ¾„ç™½æ²³", to: "ä½å‰", time: 3, distance: 1.9 },
        { from: "ä½å‰", to: "éŒ¦ç³¸ç”º", time: 2, distance: 1.0 },
        { from: "éŒ¦ç³¸ç”º", to: "æŠ¼ä¸Š", time: 2, distance: 1.4 },
        { from: "æ›³èˆŸ", to: "æŠ¼ä¸Š", time: 2, distance: 1.3 }
      ],
      "æ±æ­¦ã‚¹ã‚«ã‚¤ãƒ„ãƒªãƒ¼ãƒ©ã‚¤ãƒ³": [
        { from: "æµ…è‰", to: "æ›³èˆŸ", time: 5, distance: 2.4 },
        { from: "æ›³èˆŸ", to: "åŒ—åƒä½", time: 7, distance: 4.7 },
        { from: "åŒ—åƒä½", to: "æ˜¥æ—¥éƒ¨", time: 20, distance: 28.2 }
      ],
      "JRäº¬æµœæ±åŒ—ç·š": [
        { from: "å¤§å®®", to: "æµ¦å’Œ", time: 9, distance: 6.1 },
        { from: "æµ¦å’Œ", to: "å—æµ¦å’Œ", time: 3, distance: 1.7 },
        { from: "å—æµ¦å’Œ", to: "èµ¤ç¾½", time: 12, distance: 9.3 },
        { from: "èµ¤ç¾½", to: "ç‹å­", time: 5, distance: 3.3 },
        { from: "ç‹å­", to: "ç”°ç«¯", time: 5, distance: 2.8 }
      ],
      "æ±äº¬ãƒ¡ãƒˆãƒ­éŠ€åº§ç·š": [
        { from: "æ¸‹è°·", to: "è¡¨å‚é“", time: 2, distance: 1.2 },
        { from: "è¡¨å‚é“", to: "é’å±±ä¸€ä¸ç›®", time: 4, distance: 1.4 },
        { from: "é’å±±ä¸€ä¸ç›®", to: "èµ¤å‚è¦‹é™„", time: 2, distance: 1.3 },
        { from: "èµ¤å‚è¦‹é™„", to: "æºœæ± å±±ç‹", time: 1, distance: 0.7 },
        { from: "æºœæ± å±±ç‹", to: "æ–°æ©‹", time: 3, distance: 1.6 },
        { from: "æ–°æ©‹", to: "éŠ€åº§", time: 2, distance: 0.9 },
        { from: "éŠ€åº§", to: "æ—¥æœ¬æ©‹", time: 3, distance: 1.4 },
        { from: "æ—¥æœ¬æ©‹", to: "ä¸‰è¶Šå‰", time: 1, distance: 0.6 },
        { from: "ä¸‰è¶Šå‰", to: "ç¥ç”°", time: 1, distance: 0.7 },
        { from: "ç¥ç”°", to: "ä¸Šé‡åºƒå°è·¯", time: 3, distance: 1.7 },
        { from: "ä¸Šé‡åºƒå°è·¯", to: "ä¸Šé‡", time: 1, distance: 0.5 },
        { from: "ä¸Šé‡", to: "æµ…è‰", time: 5, distance: 2.2 }
      ],
      "éƒ½å–¶æµ…è‰ç·š": [
        { from: "æŠ¼ä¸Š", to: "æµ…è‰", time: 3, distance: 1.5 },
        { from: "æµ…è‰", to: "è”µå‰", time: 1, distance: 0.9 },
        { from: "è”µå‰", to: "æµ…è‰æ©‹", time: 2, distance: 0.7 },
        { from: "æµ…è‰æ©‹", to: "æ±æ—¥æœ¬æ©‹", time: 1, distance: 0.7 },
        { from: "æ±æ—¥æœ¬æ©‹", to: "äººå½¢ç”º", time: 1, distance: 0.7 },
        { from: "äººå½¢ç”º", to: "æ—¥æœ¬æ©‹", time: 2, distance: 0.8 },
        { from: "æ—¥æœ¬æ©‹", to: "æ–°æ©‹", time: 5, distance: 2.5 },
        { from: "æ–°æ©‹", to: "å¤§é–€", time: 1, distance: 1.0 },
        { from: "å¤§é–€", to: "ä¸‰ç”°", time: 2, distance: 1.5 },
        { from: "ä¸‰ç”°", to: "æ³‰å²³å¯º", time: 2, distance: 1.1 },
        { from: "æ³‰å²³å¯º", to: "äº”åç”°", time: 4, distance: 2.1 },
        { from: "äº”åç”°", to: "ä¸­å»¶", time: 4, distance: 2.7 }
      ],
      "JRä¸­å¤®ç·šå¿«é€Ÿ": [
        { from: "æ±äº¬", to: "ç¥ç”°", time: 1, distance: 1.3 },
        { from: "ç¥ç”°", to: "å¾¡èŒ¶ãƒæ°´", time: 1, distance: 1.3 },
        { from: "å¾¡èŒ¶ãƒæ°´", to: "å››è°·", time: 4, distance: 4.0 },
        { from: "å››è°·", to: "æ–°å®¿", time: 4, distance: 3.7 },
        { from: "æ–°å®¿", to: "ä¸­é‡", time: 4, distance: 4.4 },
        { from: "ä¸­é‡", to: "å‰ç¥¥å¯º", time: 11, distance: 7.8 },
        { from: "å‰ç¥¥å¯º", to: "ä¸‰é·¹", time: 3, distance: 1.6 },
        { from: "ä¸‰é·¹", to: "å›½åˆ†å¯º", time: 7, distance: 7.3 },
        { from: "å›½åˆ†å¯º", to: "è¥¿å›½åˆ†å¯º", time: 2, distance: 1.4 },
        { from: "å›½åˆ†å¯º", to: "ç«‹å·", time: 5, distance: 4.7 },
        { from: "ç«‹å·", to: "è±Šç”°", time: 6, distance: 5.6 }
      ],
      "æ±æ­¦äº€æˆ¸ç·š": [
        { from: "äº€æˆ¸", to: "æ›³èˆŸ", time: 8, distance: 3.4 }
      ],
      "JRç·æ­¦å¿«é€Ÿç·š": [
        { from: "æ±äº¬", to: "æ–°æ—¥æœ¬æ©‹", time: 3, distance: 1.2 },
        { from: "æ–°æ—¥æœ¬æ©‹", to: "é¦¬å–°ç”º", time: 2, distance: 1.1 },
        { from: "é¦¬å–°ç”º", to: "éŒ¦ç³¸ç”º", time: 4, distance: 2.5 },
        { from: "éŒ¦ç³¸ç”º", to: "æ–°å°å²©", time: 5, distance: 5.2 },
        { from: "æ–°å°å²©", to: "å¸‚å·", time: 5, distance: 5.4 },
        { from: "å¸‚å·", to: "èˆ¹æ©‹", time: 6, distance: 7.8 }
      ],
      "è¥¿æ­¦æ± è¢‹ç·š": [
        { from: "æ± è¢‹", to: "ç·´é¦¬", time: 11, distance: 6.0 },
        { from: "ç·´é¦¬", to: "æ‰€æ²¢", time: 23, distance: 18.8 }
      ],
      "JRå®‡éƒ½å®®ç·šãƒ»é«˜å´ç·š": [
        { from: "ä¸Šé‡", to: "èµ¤ç¾½", time: 12, distance: 9.8 },
        { from: "èµ¤ç¾½", to: "æµ¦å’Œ", time: 9, distance: 11.0 },
        { from: "æµ¦å’Œ", to: "å¤§å®®", time: 8, distance: 6.1 }
      ],
      "JRæ¹˜å—æ–°å®¿ãƒ©ã‚¤ãƒ³": [
        { from: "å¤§å®®", to: "æµ¦å’Œ", time: 6, distance: 6.1 },
        { from: "æµ¦å’Œ", to: "èµ¤ç¾½", time: 8, distance: 11.0 },
        { from: "èµ¤ç¾½", to: "æ± è¢‹", time: 10, distance: 5.5 },
        { from: "æ± è¢‹", to: "æ–°å®¿", time: 6, distance: 4.8 },
        { from: "æ–°å®¿", to: "æ¸‹è°·", time: 5, distance: 3.4 },
        { from: "æ¸‹è°·", to: "æµæ¯”å¯¿", time: 2, distance: 1.6 },
        { from: "æµæ¯”å¯¿", to: "å¤§å´", time: 4, distance: 3.6 },
        { from: "å¤§å´", to: "æ­¦è”µå°æ‰", time: 9, distance: 12.0 }
      ],
      "JRåŸ¼äº¬ç·š": [
        { from: "å¤§å®®", to: "æ­¦è”µæµ¦å’Œ", time: 11, distance: 7.4 },
        { from: "æ­¦è”µæµ¦å’Œ", to: "èµ¤ç¾½", time: 10, distance: 10.6 },
        { from: "èµ¤ç¾½", to: "æ± è¢‹", time: 9, distance: 5.5 },
        { from: "æ± è¢‹", to: "æ–°å®¿", time: 6, distance: 4.8 },
        { from: "æ–°å®¿", to: "æ¸‹è°·", time: 5, distance: 3.4 },
        { from: "æ¸‹è°·", to: "æµæ¯”å¯¿", time: 2, distance: 1.6 },
        { from: "æµæ¯”å¯¿", to: "å¤§å´", time: 4, distance: 3.6 },
        { from: "å¤§å´", to: "æ­¦è”µå°æ‰", time: 9, distance: 12.0 }
      ],
      "ã¤ãã°ã‚¨ã‚¯ã‚¹ãƒ—ãƒ¬ã‚¹": [
        { from: "ç§‹è‘‰åŸ", to: "æ–°å¾¡å¾’ç”º", time: 2, distance: 1.6 },
        { from: "æ–°å¾¡å¾’ç”º", to: "æµ…è‰", time: 2, distance: 1.5 },
        { from: "æµ…è‰", to: "å—åƒä½", time: 3, distance: 2.5 },
        { from: "å—åƒä½", to: "åŒ—åƒä½", time: 2, distance: 1.9 },
        { from: "åŒ—åƒä½", to: "å—æµå±±", time: 15, distance: 14.6 },
        { from: "å—æµå±±", to: "æµå±±ãŠãŠãŸã‹ã®æ£®", time: 4, distance: 4.4 }
      ],
      "å°ç”°æ€¥å°ç”°åŸç·šãƒ»å¤šæ‘©ç·š": [
        { from: "æ–°å®¿", to: "ä»£ã€…æœ¨ä¸ŠåŸ", time: 5, distance: 3.5 },
        { from: "ä»£ã€…æœ¨ä¸ŠåŸ", to: "ä¸‹åŒ—æ²¢", time: 2, distance: 1.4 },
        { from: "ä¸‹åŒ—æ²¢", to: "ç™»æˆ¸", time: 10, distance: 10.3 },
        { from: "ç™»æˆ¸", to: "æ–°ç™¾åˆãƒ¶ä¸˜", time: 10, distance: 6.3 },
        { from: "æ–°ç™¾åˆãƒ¶ä¸˜", to: "å°ç”°æ€¥å¤šæ‘©ã‚»ãƒ³ã‚¿ãƒ¼", time: 12, distance: 9.1 }
      ],
      "JRå—æ­¦ç·š": [
        { from: "å·å´", to: "æ­¦è”µå°æ‰", time: 8, distance: 7.5 },
        { from: "æ­¦è”µå°æ‰", to: "æ­¦è”µæºãƒå£", time: 7, distance: 5.2 },
        { from: "æ­¦è”µæºãƒå£", to: "ç™»æˆ¸", time: 5, distance: 4.6 },
        { from: "ç™»æˆ¸", to: "ç¨²ç”°å ¤", time: 3, distance: 3.5 },
        { from: "ç¨²ç”°å ¤", to: "åºœä¸­æœ¬ç”º", time: 7, distance: 7.1 },
        { from: "åºœä¸­æœ¬ç”º", to: "åˆ†å€æ²³åŸ", time: 1, distance: 0.9 },
        { from: "åˆ†å€æ²³åŸ", to: "ç«‹å·", time: 7, distance: 6.7 }
      ],
      "JRäº¬è‘‰ç·šãƒ»æ­¦è”µé‡ç·š": [
        { from: "æ±äº¬", to: "å…«ä¸å €", time: 2, distance: 1.2 },
        { from: "å…«ä¸å €", to: "æ–°æœ¨å ´", time: 8, distance: 6.2 },
        { from: "æ–°æœ¨å ´", to: "èˆæµœ", time: 6, distance: 5.3 },
        { from: "èˆæµœ", to: "å¸‚å·å¡©æµœ", time: 6, distance: 5.5 },
        { from: "å¸‚å·å¡©æµœ", to: "è¥¿èˆ¹æ©‹", time: 8, distance: 5.9 },
        { from: "è¥¿èˆ¹æ©‹", to: "æ±æ¾æˆ¸", time: 9, distance: 7.2 },
        { from: "æ±æ¾æˆ¸", to: "æ–°æ¾æˆ¸", time: 7, distance: 6.5 },
        { from: "æ–°æ¾æˆ¸", to: "å—æµå±±", time: 2, distance: 2.1 },
        { from: "å—æµå±±", to: "å—è¶Šè°·", time: 14, distance: 11.9 },
        { from: "å—è¶Šè°·", to: "æ±å·å£", time: 4, distance: 4.3 },
        { from: "æ±å·å£", to: "å—æµ¦å’Œ", time: 8, distance: 7.5 },
        { from: "å—æµ¦å’Œ", to: "æ­¦è”µæµ¦å’Œ", time: 3, distance: 1.9 },
        { from: "æ­¦è”µæµ¦å’Œ", to: "åŒ—æœéœ", time: 7, distance: 7.0 },
        { from: "åŒ—æœéœ", to: "æ–°ç§‹æ´¥", time: 10, distance: 9.8 },
        { from: "æ–°ç§‹æ´¥", to: "è¥¿å›½åˆ†å¯º", time: 8, distance: 9.1 },
        { from: "è¥¿å›½åˆ†å¯º", to: "åºœä¸­æœ¬ç”º", time: 5, distance: 3.9 }
      ]
    };

    // é§…é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’åˆæœŸåŒ–
    function initializeStationSelects() {
      const departureSelect = document.getElementById('departure');
      const arrivalSelect = document.getElementById('arrival');
      
      destinations.forEach(dest => {
        if (dest.disabled) {
          const opt1 = new Option(dest.name, "", false, false);
          opt1.disabled = true;
          const opt2 = new Option(dest.name, "", false, false);
          opt2.disabled = true;
          departureSelect.add(opt1);
          arrivalSelect.add(opt2);
        } else {
          departureSelect.add(new Option(dest.name, dest.station));
          arrivalSelect.add(new Option(dest.name, dest.station));
        }
      });
    }

    // è·¯ç·šã‚°ãƒ©ãƒ•ã‚’æ§‹ç¯‰ï¼ˆåŒæ–¹å‘å¯¾å¿œï¼‰
    function buildGraph() {
      const graph = {};
      
      Object.entries(routeData).forEach(([lineName, segments]) => {
        segments.forEach(segment => {
          // é †æ–¹å‘
          if (!graph[segment.from]) graph[segment.from] = [];
          graph[segment.from].push({
            station: segment.to,
            line: lineName,
            time: segment.time,
            distance: segment.distance
          });
          
          // é€†æ–¹å‘ã‚‚è¿½åŠ 
          if (!graph[segment.to]) graph[segment.to] = [];
          graph[segment.to].push({
            station: segment.from,
            line: lineName,
            time: segment.time,
            distance: segment.distance
          });
        });
      });
      
      return graph;
    }

    // ä¹—ã‚Šæ›ãˆæ™‚é–“ã‚’å–å¾—
    function getTransferTime(station, line1, line2) {
      if (line1 === line2) return 0;
      
      const transfers = transferData[station];
      if (!transfers) return 5; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ5åˆ†
      
      const key1 = `${line1} â‡” ${line2}`;
      const key2 = `${line2} â‡” ${line1}`;
      
      return transfers[key1] || transfers[key2] || 5;
    }

    // ãƒ€ã‚¤ã‚¯ã‚¹ãƒˆãƒ©æ³•ã§æœ€çŸ­çµŒè·¯ã‚’æ¢ç´¢ï¼ˆãƒã‚°ä¿®æ­£ç‰ˆï¼‰
    function findRoute(start, end, mode = 'time') {
      const graph = buildGraph();
      
      if (!graph[start] || !graph[end]) {
        return null;
      }
      
      const dist = {};
      const prev = {};
      const lineUsed = {};
      const unvisited = new Set(Object.keys(graph));
      
      // åˆæœŸåŒ–
      Object.keys(graph).forEach(station => {
        dist[station] = Infinity;
      });
      dist[start] = 0;
      
      while (unvisited.size > 0) {
        // æœ€å°è·é›¢ã®é§…ã‚’é¸æŠ
        let current = null;
        let minDist = Infinity;
        
        unvisited.forEach(station => {
          if (dist[station] < minDist) {
            minDist = dist[station];
            current = station;
          }
        });
        
        if (current === null || current === end || dist[current] === Infinity) break;
        
        unvisited.delete(current);
        
        // éš£æ¥é§…ã‚’æ¢ç´¢
        graph[current].forEach(edge => {
          if (!unvisited.has(edge.station)) return;
          
          let weight = mode === 'time' ? edge.time : edge.distance;
          
          // ä¹—ã‚Šæ›ãˆæ™‚é–“ã‚’åŠ ç®—
          if (prev[current]) {
            const prevLine = lineUsed[current];
            if (prevLine && prevLine !== edge.line) {
              const transferTime = getTransferTime(current, prevLine, edge.line);
              weight += transferTime;
            }
          }
          
          const newDist = dist[current] + weight;
          
          if (newDist < dist[edge.station]) {
            dist[edge.station] = newDist;
            prev[edge.station] = current;
            lineUsed[edge.station] = edge.line;
          }
        });
      }
      
      if (dist[end] === Infinity) return null;
      
      // çµŒè·¯ã‚’å¾©å…ƒ
      const path = [];
      let current = end;
      
      while (current !== start) {
        path.unshift(current);
        current = prev[current];
        if (!current) return null;
      }
      path.unshift(start);
      
      // è©³ç´°ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆ
      const segments = [];
      for (let i = 0; i < path.length - 1; i++) {
        const from = path[i];
        const to = path[i + 1];
        const line = lineUsed[to];
        
        // routeDataã‹ã‚‰å®Ÿéš›ã®æ™‚é–“ã¨è·é›¢ã‚’å–å¾—
        const routeSegment = routeData[line]?.find(seg => 
          (seg.from === from && seg.to === to) || (seg.from === to && seg.to === from)
        );
        
        if (routeSegment) {
          segments.push({
            line: line,
            from: from,
            to: to,
            time: routeSegment.time,
            distance: routeSegment.distance
          });
        }
      }
      
      return {
        path: path,
        segments: segments,
        totalTime: Math.round(dist[end]),
        totalDistance: segments.reduce((sum, seg) => sum + seg.distance, 0)
      };
    }
    // é‹è³ƒã‚’è¨ˆç®—
    function calculateFare(segments) {
      const companyDistances = {};
      
      segments.forEach(seg => {
        const company = getCompany(seg.line);
        if (!companyDistances[company]) {
          companyDistances[company] = 0;
        }
        companyDistances[company] += seg.distance;
      });
      
      let totalFare = 0;
      Object.entries(companyDistances).forEach(([company, distance]) => {
        const rates = fareRates[company];
        if (!rates) {
          console.warn(`é‹è³ƒãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“: ${company}`);
          return;
        }
        
        for (let i = 0; i < rates.length; i++) {
          if (distance <= rates[i].max) {
            totalFare += rates[i].fare;
            break;
          }
        }
      });
      
      // ãƒ¡ãƒˆãƒ­ãƒ»éƒ½å–¶ã®ä¹—ç¶™å‰²å¼•
      if (companyDistances["æ±äº¬ãƒ¡ãƒˆãƒ­"] && companyDistances["éƒ½å–¶åœ°ä¸‹é‰„"]) {
        totalFare -= 70;
      }
      
      return totalFare;
    }

    // è·¯ç·šã‹ã‚‰é‰„é“ä¼šç¤¾ã‚’åˆ¤å®š
    function getCompany(line) {
      if (line.includes("æ±äº¬ãƒ¡ãƒˆãƒ­")) return "æ±äº¬ãƒ¡ãƒˆãƒ­";
      if (line.includes("éƒ½å–¶")) return "éƒ½å–¶åœ°ä¸‹é‰„";
      if (line.includes("JR")) return "JRæ±æ—¥æœ¬";
      if (line.includes("äº¬ç‹")) return "äº¬ç‹é›»é‰„";
      if (line.includes("å°ç”°æ€¥")) return "å°ç”°æ€¥é›»é‰„";
      if (line.includes("æ±æ€¥")) return "æ±æ€¥é›»é‰„";
      if (line.includes("è¥¿æ­¦")) return "è¥¿æ­¦é‰„é“";
      if (line.includes("æ±æ­¦")) return "æ±æ­¦é‰„é“";
      if (line.includes("å¤šæ‘©ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«") || line.includes("å¤šæ‘©éƒ½å¸‚ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«")) return "å¤šæ‘©éƒ½å¸‚ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«";
      if (line.includes("ã¤ãã°ã‚¨ã‚¯ã‚¹ãƒ—ãƒ¬ã‚¹")) return "ã¤ãã°ã‚¨ã‚¯ã‚¹ãƒ—ãƒ¬ã‚¹";
      
      return "ãã®ä»–";
    }

    // ä¹—æ›å›æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
    function countTransfers(segments) {
      let count = 0;
      for (let i = 1; i < segments.length; i++) {
        if (segments[i].line !== segments[i-1].line) {
          count++;
        }
      }
      return count;
    }

    // æ¤œç´¢å®Ÿè¡Œï¼ˆæ—©ãƒ»å®‰ãƒ»çŸ­ã®3ãƒ«ãƒ¼ãƒˆï¼‰
    function searchRoute() {
      const departure = document.getElementById('departure').value;
      const arrival = document.getElementById('arrival').value;
      
      if (!departure || !arrival) {
        alert('å‡ºç™ºåœ°ã¨åˆ°ç€åœ°ã‚’é¸æŠã—ã¦ãã ã•ã„');
        return;
      }
      
      if (departure === arrival) {
        alert('å‡ºç™ºåœ°ã¨åˆ°ç€åœ°ãŒåŒã˜ã§ã™');
        return;
      }
      
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = '<div class="text-center text-gray-600">æ¤œç´¢ä¸­...</div>';
      
      setTimeout(() => {
        // æ—©ãƒ«ãƒ¼ãƒˆï¼ˆæ™‚é–“æœ€å°ï¼‰
        const fastestRoute = findRoute(departure, arrival, 'time');
        
        // å®‰ãƒ«ãƒ¼ãƒˆï¼ˆè·é›¢æœ€å°ï¼é‹è³ƒæœ€å°ï¼‰
        const cheapestRoute = findRoute(departure, arrival, 'distance');
        
        if (!fastestRoute) {
          resultDiv.innerHTML = `
            <div class="bg-red-50 border border-red-200 rounded-lg p-4 text-red-700">
              <strong>ãƒ«ãƒ¼ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</strong><br>
              ${departure} ã‹ã‚‰ ${arrival} ã¸ã®çµŒè·¯ã¯ã€ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿ã«å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
            </div>
          `;
          return;
        }
        
        // ãƒ«ãƒ¼ãƒˆã®é‡è¤‡ã‚’æ’é™¤ã—ã¦ãƒ©ãƒ™ãƒ«çµ±åˆ
        const routeMap = new Map();
        
        const fastestKey = JSON.stringify(fastestRoute.path);
        routeMap.set(fastestKey, {
          route: fastestRoute,
          labels: ['æ—©']
        });
        
        if (cheapestRoute) {
          const cheapestKey = JSON.stringify(cheapestRoute.path);
          if (routeMap.has(cheapestKey)) {
            routeMap.get(cheapestKey).labels.push('å®‰');
          } else {
            routeMap.set(cheapestKey, {
              route: cheapestRoute,
              labels: ['å®‰']
            });
          }
        }
        
        // çŸ­ãƒ«ãƒ¼ãƒˆï¼ˆä¹—æ›æœ€å°‘ï¼‰ã‚’ç°¡æ˜“å®Ÿè£…
        // ä¹—æ›å›æ•°ãŒæœ€å°‘ã®ãƒ«ãƒ¼ãƒˆã‚’é¸æŠ
        let shortRoute = null;
        let minTransfers = Infinity;
        
        routeMap.forEach(({ route }) => {
          const transfers = countTransfers(route.segments);
          if (transfers < minTransfers) {
            minTransfers = transfers;
            shortRoute = route;
          }
        });
        
        if (shortRoute) {
          const shortKey = JSON.stringify(shortRoute.path);
          if (routeMap.has(shortKey)) {
            routeMap.get(shortKey).labels.push('çŸ­');
          } else {
            routeMap.set(shortKey, {
              route: shortRoute,
              labels: ['çŸ­']
            });
          }
        }
        
        // çµæœã‚’è¡¨ç¤º
        resultDiv.innerHTML = '';
        routeMap.forEach(({ route, labels }) => {
          displayRoute(route, labels, departure, arrival);
        });
      }, 100);
    }

    // ç°¡æ˜“ç‰ˆçµŒè·¯ï¼ˆé§…ãƒªã‚¹ãƒˆï¼‰ã‚’ç”Ÿæˆ
    function getSimpleRoute(segments, start, end) {
      if (segments.length === 0) return [start, end];
      
      const result = [start];
      let currentLine = segments[0].line;
      
      for (let i = 0; i < segments.length; i++) {
        if (i > 0 && segments[i].line !== currentLine) {
          result.push(segments[i].from);
          currentLine = segments[i].line;
        }
      }
      
      result.push(end);
      return result;
    }

    // è©³ç´°ãƒ«ãƒ¼ãƒˆç”Ÿæˆï¼ˆè·¯ç·šã”ã¨ã«ã¾ã¨ã‚ã‚‹ï¼‰
    function generateDetailedRoute(route) {
      let html = '';
      let currentLine = null;
      let lineSegments = [];
      
      for (let i = 0; i < route.segments.length; i++) {
        const seg = route.segments[i];
        
        if (currentLine !== null && seg.line !== currentLine) {
          html += generateLineSection(currentLine, lineSegments);
          lineSegments = [];
        }
        
        currentLine = seg.line;
        lineSegments.push(seg);
      }
      
      if (lineSegments.length > 0) {
        html += generateLineSection(currentLine, lineSegments);
      }
      
      return html;
    }

    // è·¯ç·šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆ
    function generateLineSection(lineName, segments) {
      if (segments.length === 0) return '';
      
      const firstSeg = segments[0];
      const lastSeg = segments[segments.length - 1];
      const totalTime = segments.reduce((sum, seg) => sum + seg.time, 0);
      
      return `
        <div class="mb-3">
          <div class="text-sm font-semibold text-blue-600">${lineName}</div>
          <div class="text-sm ml-4">
            ${firstSeg.from} â†’ ${lastSeg.to} (ç´„${totalTime}åˆ†)
          </div>
        </div>
      `;
    }

    // ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹æƒ…å ±ç”Ÿæˆ
    function generateCampusInfo(end) {
      const campusInfo = campusData.find(c => 
        c.stations.some(s => s.station === end)
      );
      
      if (campusInfo) {
        const stationInfo = campusInfo.stations.find(s => s.station === end);
        if (stationInfo) {
          return `
            <div class="mt-4 p-3 bg-blue-50 rounded-lg">
              <div class="font-bold text-blue-800 mb-2">ğŸšƒ ä¹—è»Šä½ç½®æƒ…å ±</div>
              <div class="text-sm text-gray-700">
                <div><strong>ä¹—è»Šä½ç½®:</strong> ${stationInfo.door}</div>
                <div><strong>å‡ºå£:</strong> ${stationInfo.exit}</div>
                <div><strong>ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã¾ã§:</strong> å¾’æ­©ç´„${stationInfo.walkTotal}åˆ†</div>
                ${stationInfo.note ? `<div class="text-xs text-gray-600 mt-1">â€» ${stationInfo.note}</div>` : ''}
              </div>
            </div>
          `;
        }
      }
      return '';
    }

    // çµŒè·¯ã‚’è¡¨ç¤ºï¼ˆãƒãƒƒã‚¸ä»˜ãï¼‰
    function displayRoute(route, labels, start, end) {
      const resultDiv = document.getElementById('result');
      const fare = calculateFare(route.segments);
      const transfers = countTransfers(route.segments);
      const simpleStations = getSimpleRoute(route.segments, start, end);
      
      // ãƒãƒƒã‚¸ã®è‰²
      const badgeColors = {
        'æ—©': 'bg-blue-500',
        'å®‰': 'bg-green-500',
        'çŸ­': 'bg-purple-500'
      };
      
      const badges = labels.map(label => 
        `<span class="inline-block px-2 py-1 text-xs font-bold text-white rounded ${badgeColors[label] || 'bg-gray-500'}">${label}</span>`
      ).join(' ');
      
      const uniqueId = route.path.join('-').replace(/[^a-zA-Z0-9-]/g, '_');
      
      const routeCard = document.createElement('div');
      routeCard.className = 'bg-white rounded-lg shadow-md p-4 md:p-6 mb-4';
      routeCard.innerHTML = `
        <h2 class="text-lg md:text-xl font-bold text-blue-600 mb-3 flex items-center gap-2 flex-wrap">
          ${badges}
          <span>${labels.join('ãƒ»')}ãƒ«ãƒ¼ãƒˆ</span>
        </h2>
        <div class="grid grid-cols-3 gap-2 md:gap-4 mb-4 text-center">
          <div>
            <div class="text-xl md:text-2xl font-bold text-blue-600">${route.totalTime}åˆ†</div>
            <div class="text-xs md:text-sm text-gray-600">æ‰€è¦æ™‚é–“</div>
          </div>
          <div>
            <div class="text-xl md:text-2xl font-bold text-green-600">${fare}å††</div>
            <div class="text-xs md:text-sm text-gray-600">é‹è³ƒ(IC)</div>
          </div>
          <div>
            <div class="text-xl md:text-2xl font-bold text-purple-600">${transfers}å›</div>
            <div class="text-xs md:text-sm text-gray-600">ä¹—æ›</div>
          </div>
        </div>
        
        <div class="simple-view-${uniqueId} border-t pt-4">
          <div class="flex items-center justify-center gap-2 text-sm md:text-base flex-wrap">
            ${simpleStations.map((station, idx) => {
              if (idx === simpleStations.length - 1) {
                return `<span class="font-bold text-blue-600">${station}</span>`;
              } else {
                return `<span class="font-bold text-blue-600">${station}</span> <span class="text-gray-400">â†’</span>`;
              }
            }).join('')}
          </div>
          <div class="text-center mt-4">
            <button onclick="toggleDetail('${uniqueId}')" class="bg-gray-200 hover:bg-gray-300 px-4 md:px-6 py-2 rounded-md transition text-sm md:text-base">
              è©³ç´°ã‚’è¡¨ç¤º â–¼
            </button>
          </div>
        </div>
        
        <div class="detail-view-${uniqueId} border-t pt-4 hidden">
          ${generateDetailedRoute(route)}
          ${generateCampusInfo(end)}
          <div class="text-center mt-4">
            <button onclick="toggleDetail('${uniqueId}')" class="bg-gray-200 hover:bg-gray-300 px-4 md:px-6 py-2 rounded-md transition text-sm md:text-base">
              ç°¡æ˜“è¡¨ç¤ºã«æˆ»ã™ â–²
            </button>
          </div>
        </div>
      `;
      
      resultDiv.appendChild(routeCard);
    }

    // è©³ç´°è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
    function toggleDetail(id) {
      const simpleView = document.querySelector(`.simple-view-${id}`);
      const detailView = document.querySelector(`.detail-view-${id}`);
      
      if (detailView && detailView.classList.contains('hidden')) {
        if (simpleView) simpleView.classList.add('hidden');
        detailView.classList.remove('hidden');
      } else if (detailView) {
        if (simpleView) simpleView.classList.remove('hidden');
        detailView.classList.add('hidden');
      }
    }

    // åˆæœŸåŒ–
    window.addEventListener('DOMContentLoaded', () => {
      initializeStationSelects();
    });
  </script>
</body>
</html>
